<div class="dashboard-container">
  <!-- LEFT SECTION -->
  <div class="dashboard-left">
    <!-- Quick Actions Banner -->
    <div class="quick-actions-banner">
      <div class="banner-content">
        <h3>Need Service?</h3>
        <p>Request help from verified garages near you</p>
      </div>
      <button class="cta-btn" routerLink="/car-owner/request-service">
        Request Now â†’
      </button>
    </div>

    <!-- Active/Last Request Card -->
    <div class="status-card" [class.active]="activeRequest">
      <div class="card-header">
        <h3>
          @if (activeRequest) {
            <span class="status-indicator active"></span>
            Active Request
          } @else {
            <span class="status-indicator"></span>
            Last Active Request
          }
        </h3>
      </div>
      <div class="card-body">
        @if (activeRequest) {
          <div class="info-row">
            <span class="label">Service:</span>
            <span class="value">{{ activeRequest.serviceType }}</span>
          </div>
          <div class="info-row">
            <span class="label">Garage:</span>
            <span class="value">{{ activeRequest.garageName }}</span>
          </div>
          <div class="info-row">
            <span class="label">Status:</span>
            <span class="badge in-progress">{{ activeRequest.status }}</span>
          </div>
        } @else {
          <div class="info-row">
            <span class="label">Service:</span>
            <span class="value">{{ lastRequest.serviceType }}</span>
          </div>
          <div class="info-row">
            <span class="label">Garage:</span>
            <span class="value">{{ lastRequest.garageName }}</span>
          </div>
          <div class="info-row">
            <span class="label">Date:</span>
            <span class="value">{{ lastRequest.date }}</span>
          </div>
        }
      </div>
      <div class="card-footer">
        <button class="btn-view">View Full Details</button>
      </div>
    </div>

    <!-- Service Categories -->
    <div class="service-section">
      <h3>Available Services</h3>
      <div class="service-grid">
        @for (service of services; track service.id) {
          <div class="service-card">
            <div class="service-icon">{{ getServiceIcon(service.title) }}</div>
            <h4>{{ service.title }}</h4>
            <p>{{ service.description }}</p>
            <button class="btn-request">Request Now</button>
          </div>
        }
      </div>
    </div>
  </div>

  <!-- RIGHT SECTION -->
  <div class="dashboard-right">
    <!-- Saved Cars -->
    <div class="info-card">
      <div class="card-header">
        <h3>My Vehicles</h3>
        <button class="add-btn" (click)="addCar()">+ Add</button>
      </div>
      <div class="card-body">
        @if (savedCars.length > 0) {
          @for (car of savedCars; track car.id) {
            <div class="car-item">
              <div class="car-icon">ðŸš—</div>
              <div class="car-details">
                <span class="car-name">{{ car.make }} {{ car.model }}</span>
                <span class="car-plate">{{ car.license }}</span>
              </div>
            </div>
          }
        } @else {
          <div class="empty-state">
            <span class="empty-icon">ðŸš—</span>
            <p>No vehicles added yet</p>
          </div>
        }
      </div>
    </div>

    <!-- Recent Payments -->
    <div class="info-card">
      <div class="card-header">
        <h3>Recent Payments</h3>
        <a class="view-all">View All</a>
      </div>
      <div class="card-body">
        @if (payments.length > 0) {
          @for (payment of payments; track payment.id) {
            <div class="payment-item">
              <div class="payment-icon">ðŸ’³</div>
              <div class="payment-details">
                <span class="payment-service">{{ payment.service }}</span>
                <span class="payment-amount">KES {{ payment.amount  }}</span>
              </div>
            </div>
          }
        } @else {
          <div class="empty-state">
            <span class="empty-icon">ðŸ’³</span>
            <p>No payments yet</p>
          </div>
        }
      </div>
    </div>

    <!-- Quick Stats -->
    <div class="stats-card">
      <div class="stat-item">
        <span class="stat-number">{{ savedCars.length }}</span>
        <span class="stat-label">Vehicles</span>
      </div>
      <div class="stat-item">
        <span class="stat-number">12</span>
        <span class="stat-label">Services</span>
      </div>
      <div class="stat-item">
        <span class="stat-number">3</span>
        <span class="stat-label">Pending</span>
      </div>
    </div>
  </div>
</div>